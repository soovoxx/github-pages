---
title: "JPA Hibernate 필드 업데이트 문제"
slug: "spring-jpa-camelCase"
pubDate: "2025-11-26"
summary: "camelCase는 안돼요"
tags: ["spring-jpa", "kotlin", "camelCase"]
---

문제사항 -> JPA Entity를 작성하던중 아래와 같은 필드를 작성함

```kotlin
#Player.kt

@Column(name = "isActive")
open var isActive: Boolean? = null
```

그리고, `application.yml` 은 `ddl-auto: update` 옵션을 추가해놨었다.

```yml
jpa:
  hibernate:
    ddl-auto: update
```

데이터베이스는 이미 만들어져 있는데, 자꾸 `is_active` 컬럼이 신규 생성되어서, 쿼리가 동작하지 않았다.

## 왜 is_active가 생기는건가

엔티티:

```kotlin
@Table(name = "player")
open class Player(
    ...
) {
    @Column(name = "isActive")
    open var isActive: Boolean? = null
}
```

DDL:

```sql
create table player
(
    ...
    isActive tinyint(1) default 1 null comment '활동여부(현역선수)'
);
```

Spring Boot + Hibernate 기본 설정에서는

PhysicalNamingStrategy 가 켜져 있어서,

- 논리 이름: isActive
- 물리 이름: is_active 로 자동 변환
  됩니다.

@Column(name = "isActive") 이라고 써도

- "논리 이름 `isActive`" 로 인식
- PhysicalNamingStrategy 가 **"아~ 이거는 DB에서는 `is_active` 로 쓸게요"**
- DB를 보니 `is_active` 가 없음
- `ddl-auto=update` 으로 설정이 되어있으니, 자연스럽게 컬럼을 업데이트 시킴(`alter`)
- `alter table player add column is_active tinyint(1)` 실행

**결국, 컬럼이 두개가 되는것**

그래서 지금 상태는:

- DB: isActive, is_active 두 개 존재
- JPA가 실제로 쓰는 건 is_active 쪽

## 조치사항

1. Alter 문 작성

```sql
alter table player change column isActive is_active tinyint(1) default 1 null comment '활동여부(현역선수)';
```

2. Player Entity 수정(name = "isActive" -> name="is_active")

```kotlin
@Column(name = "is_active")
open var isActive: Boolean? = null
```
